# Http请求相关知识点

## Http请求获取较大文件

今天遇到一个比较棘手的情况，query拿到的数据因为数据量比较大所以解析的时候一直报内存溢出，但是总不能每次只查询一点点数据。

其实出现错误的主要原因并不是HTTP请求，HTTP是200的，出现问题的主要原因是我是用了RestTemplate。他会自动把String转化为json，在解析过程中就直接oom了。

最后问题解决了，但是不是通过改`Accept-Encoding`为`gzip`解决的，最后还是把query改成分页查询，一次性返回部分数据解决的，最后发现数据有一个多G，怪不得一个http请求过来处理会OOM。。。



